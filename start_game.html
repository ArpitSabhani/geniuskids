<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <!-- =============Boostrap link================== -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- =================== font awasome ===========================     -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">

    <!-- ======================= Link Swiper's CSS ====================== -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

    <!-- ============================== aos libarary =================================== -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css">

    <!-- ======================= Link Swiper's CSS ====================== -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />

    <!-- =============== css link ================ -->
    <link rel="stylesheet" href="./css/spedo_o_brain.css">
    <link rel="stylesheet" href="./css/star_game.css">
    <style>

    </style>
    <title>Genius Kid</title>
</head>

<body>

    <!-- section start -->
    <section class="spedo-content">
        <div class="game-position">
            <div class="login-logo">
                <a href="./index.html"> <img src="./img/logo gk-02.svg" alt=""></a>
            </div>
            <div>
                <a href="./login_clickpage.html">
                    <div class="start-close-button text-end">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                </a>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-6 knight-background-bg-center">
                    <div class="knight-background">
                        <div class="start-game-messege">
                            <h1 class="mb-0"><span>Knight star-I</span></h1>
                        </div>
                        <div class="color-selection">
                            <p class="mb-0">color selection:</p>
                            <span class="dot" style="background: #066296;"></span>
                            <span class="dot" style="background: #FFA500;"></span>
                            <span class="dot" style="background: #0000FF;"></span>
                            <span class="dot" style="background: #008000;"></span>
                            <span class="dot" style="background: #4B0082;"></span>
                            <span class="dot" style="background: #EE82EE;"></span>
                        </div>
                        <!-- <span class="msg-icn">So nice</span> -->
                        <div class="spedo-btn">
                            <button type="button" class="start-btn" id="startButton" data-bs-toggle="modal"
                                data-bs-target="#startmodal">start</button>
                            <a href="./login_clickpage.html"><button type="button" class="cancle-btn"
                                    data-bs-toggle="modal" data-bs-target="">cancel</button></a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ================================ -->
            <div class="modal fade" id="startmodal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content  spedo-content">
                        <a href="./login_clickpage.html">
                            <div class="start-close-button text-end">
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                        </a>
                        <div class="centered-text">
                            <div class="start-game-img">
                                <img src="./img/abacus/abacus_00.svg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ============================================ -->

            <div class="modal fade answer-background" id="answermodal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content  spedo-content">
                        <a href="./login_clickpage.html">
                            <div class="start-close-button text-end">
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                        </a>
                        <div class="centered-text">
                            <div class="game-answer">
                                <h1><span> answer:<input type="number" class="answer-input" value="" autofocus></span>
                                </h1>
                                <div class="timershow text-white">00:00</div>
                            </div>
                            <div class="num-pad">

                                <button class="num-btn">0</button>
                                <button class="num-btn">1</button>
                                <button class="num-btn">2</button>
                                <button class="num-btn">3</button>
                                <button class="num-btn">4</button>
                                <button class="num-btn">5</button>
                                <button class="num-btn">6</button>
                                <button class="num-btn">7</button>
                                <button class="num-btn">8</button>
                                <button class="num-btn">9</button>
                                <button class="num-btn">.</button>
                                <button class="delete-btn">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ================================ -->

            <div class="modal fade modal-back-img" id="scoremodal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content  spedo-content modal-back-img">
                        <!-- ===================== -->
                        <div class="level-up-notification">
                            <div class="confetti"></div>
                            <div class="level-up-text">Congratulations</div>
                        </div>

                        <div class="confetti-container">
                            <div class="confetti">
                                <i class="square" style="--speed: 10; --bg: yellow"></i>
                                <i class="pentagram" style="--speed: 18; --bg: white"></i>
                                <i class="rectangle" style="--speed: 29; --bg: green"></i>
                                <i class="hexagram" style="--speed: 17; --bg: blue"></i>
                                <i class="pentagram" style="--speed: 33; --bg: red"></i>
                                <i class="dodecagram" style="--speed: 26; --bg: yellow"></i>
                                <i class="wavy-line" style="--speed: 24; --bg: pink"> </i>
                                <i class="wavy-line" style="--speed: 5; --bg: blue"></i>
                                <i class="square" style="--speed: 40; --bg: white"></i>
                                <i class="rectangle" style="--speed: 17; --bg: green"></i>
                                <i class="square" style="--speed: 25; --bg: white"></i>
                                <i class="rectangle" style="--speed: 18; --bg: green"></i>
                                <i class="wavy-line" style="--speed: 15; --bg: yellow"> </i>
                                <i class="pentagram" style="--speed: 32; --bg: yellow"></i>
                                <i class="square" style="--speed: 25; --bg: white"></i>
                                <i class="rectangle" style="--speed: 18; --bg: green"></i>
                                <i class="dodecagram" style="--speed: 37; --bg: yellow"></i>
                                <i class="wavy-line" style="--speed: 23; --bg: pink"></i>
                                <i class="dodecagram" style="--speed: 37; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 37; --bg: pink"></i>
                                <i class="hexagram" style="--speed: 36; --bg: white"></i>
                                <i class="wavy-line" style="--speed: 32; --bg: green"></i>
                                <i class="pentagram" style="--speed: 32; --bg: yellow"></i>
                                <i class="square" style="--speed: 29; --bg: white"></i>
                                <i class="rectangle" style="--speed: 18; --bg: green"></i>
                                <i class="dodecagram" style="--speed: 37; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 23; --bg: pink"> </i>
                                <i class="rectangle" style="--speed: 30; --bg: pink"></i>
                                <i class="square" style="--speed: 30; --bg: red"></i>
                                <i class="pentagram" style="--speed: 18; --bg: red"></i>
                                <i class="rectangle" style="--speed: 19; --bg: green"></i>
                                <i class="hexagram" style="--speed: 16; --bg: blue"></i>
                                <i class="pentagram" style="--speed: 23; --bg: red"></i>
                                <i class="dodecagram" style="--speed: 34; --bg: yellow"></i>
                                <i class="wavy-line" style="--speed: 39; --bg: pink"></i>
                                <i class="square" style="--speed: 40; --bg: purple"></i>
                                <i class="rectangle" style="--speed: 21; --bg: green"></i>
                                <i class="square" style="--speed: 14; --bg: white"></i>
                                <i class="rectangle" style="--speed: 38; --bg: green"></i>
                                <i class="dodecagram" style="--speed: 19; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 29; --bg: pink"> </i>
                                <i class="hexagram" style="--speed: 21; --bg: white"></i>
                                <i class="wavy-line" style="--speed: 17; --bg: purple"></i>
                                <i class="pentagram" style="--speed: 32; --bg: yellow"></i>
                                <i class="square" style="--speed: 23; --bg: white"></i>
                                <i class="rectangle" style="--speed: 18; --bg: green"></i>
                                <i class="dodecagram" style="--speed: 37; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 48; --bg: pink"> </i>
                                <i class="rectangle" style="--speed: 38; --bg: pink"></i>
                                <i class="pentagram" style="--speed: 13; --bg: red"></i>
                                <i class="dodecagram" style="--speed: 49; --bg: yellow"></i>
                                <i class="wavy-line" style="--speed: 19; --bg: cyan"></i>
                                <i class="square" style="--speed: 15; --bg: steelblue"></i>
                                <i class="square" style="--speed: 10; --bg: yellow"></i>
                                <i class="pentagram" style="--speed: 18; --bg: white"></i>
                                <i class="rectangle" style="--speed: 29; --bg: green"></i>
                                <i class="hexagram" style="--speed: 17; --bg: blue"></i>
                                <i class="pentagram" style="--speed: 33; --bg: red"></i>
                                <i class="dodecagram" style="--speed: 26; --bg: yellow"></i>
                                <i class="wavy-line" style="--speed: 24; --bg: pink"> </i>
                                <i class="wavy-line" style="--speed: 5; --bg: white"></i>
                                <i class="square" style="--speed: 40; --bg: purple"></i>
                                <i class="rectangle" style="--speed: 17; --bg: green"></i>
                                <i class="square" style="--speed: 25; --bg: white"></i>
                                <i class="rectangle" style="--speed: 18; --bg: green"></i>
                                <i class="wavy-line" style="--speed: 15; --bg: cyan"> </i>
                                <i class="pentagram" style="--speed: 32; --bg: yellow"></i>
                                <i class="square" style="--speed: 45; --bg: white"></i>
                                <i class="rectangle" style="--speed: 18; --bg: green"></i>
                                <i class="dodecagram" style="--speed: 37; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 23; --bg: pink"> </i>
                                <i class="dodecagram" style="--speed: 37; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 37; --bg: pink"> </i>
                                <i class="hexagram" style="--speed: 26; --bg: white"></i>
                                <i class="wavy-line" style="--speed: 32; --bg: cyan"></i>
                                <i class="pentagram" style="--speed: 32; --bg: yellow"></i>
                                <i class="square" style="--speed: 45; --bg: white"></i>
                                <i class="rectangle" style="--speed: 18; --bg: green"></i>
                                <i class="dodecagram" style="--speed: 37; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 23; --bg: pink"> </i>
                                <i class="rectangle" style="--speed: 50; --bg: pink"></i>
                                <i class="square" style="--speed: 30; --bg: red"></i>
                                <i class="pentagram" style="--speed: 18; --bg: red"></i>
                                <i class="rectangle" style="--speed: 19; --bg: green"></i>
                                <i class="hexagram" style="--speed: 16; --bg: blue"></i>
                                <i class="pentagram" style="--speed: 23; --bg: red"></i>
                                <i class="dodecagram" style="--speed: 33; --bg: yellow"></i>
                                <i class="wavy-line" style="--speed: 39; --bg: white"></i>
                                <i class="square" style="--speed: 40; --bg: orange"></i>
                                <i class="rectangle" style="--speed: 21; --bg: green"></i>
                                <i class="square" style="--speed: 14; --bg: white"></i>
                                <i class="rectangle" style="--speed: 38; --bg: green"></i>
                                <i class="dodecagram" style="--speed: 19; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 29; --bg: pink"> </i>
                                <i class="hexagram" style="--speed: 34; --bg: white"></i>
                                <i class="wavy-line" style="--speed: 17; --bg: indigo"></i>
                                <i class="pentagram" style="--speed: 32; --bg: yellow"></i>
                                <i class="square" style="--speed: 23; --bg: white"></i>
                                <i class="rectangle" style="--speed: 18; --bg: green"></i>
                                <i class="dodecagram" style="--speed: 37; --bg: red"></i>
                                <i class="wavy-line" style="--speed: 48; --bg: pink"> </i>
                                <i class="rectangle" style="--speed: 38; --bg: pink"></i>
                                <i class="pentagram" style="--speed: 13; --bg: red"></i>
                                <i class="dodecagram" style="--speed: 49; --bg: yellow"></i>
                                <i class="wavy-line" style="--speed: 19; --bg: purple"></i>
                                <i class="square" style="--speed: 15; --bg: cyan"></i>
                            </div>
                        </div>


                        <!-- ================================= -->
                        <div class="login-logo">
                            <a href="./login_clickpage.html"> <img src="./img/logo gk-02.svg" alt=""></a>
                        </div>
                        <div class="spedo-close-button text-end">
                            <a href="./login_clickpage.html">
                                <button type="button" class="btn-close" data-bs-dismiss="" aria-label="Close"></button>
                            </a>
                        </div>
                        <div class="centered-text">
                            <div class="score-center-box">
                                <div class="game-score">
                                    <h1><span> score:<input type="text" class="" value="49" readonly></span>
                                </div>
                                <div class="spedo-btn">
                                    <div class="row gx-5">
                                        <div class="col-md-6 score-box-link  mt-4">
                                            <div class="score-button again-button">
                                                <a href=""><button type="button"
                                                        class="score-menu-btn">again</button></a>
                                            </div>
                                        </div>
                                        <div class="col-md-6 score-box-link mt-4">
                                            <div class="score-button go-home-button">
                                                <a href="./start_game copy.html"><button type="button"
                                                        class="score-menu-btn">Knight star-II</button></a>
                                            </div>
                                        </div>
                                        <div class="col-md-6 score-box-link mt-4" data-bs-toggle="modal"
                                            data-bs-target="#exampleModal_Review">
                                            <div class="score-button review-button">
                                                <a href="#review"><button type="button">review</button></a>
                                            </div>
                                        </div>
                                        <div class="col-md-6 score-box-link mt-4">
                                            <div class="score-button logout-button">
                                                <a href="./index.html"><button type="button"
                                                        data-bs-dismiss="modal">logout</button></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========================================== -->


            <div class="modal" id="exampleModal_Review" data-aos="zoom-in" tabindex="-1"
                aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-fullscreen modal-dialog-centered">
                    <div class="modal-content review-content  result-table-modal">
                        <div class="centered-text">
                            <div class="main-table">
                                <button type="button" class="btn-close text-end" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                                <h3>result</h3>
                                <div class="result-table">

                                    <table>
                                        <tr>
                                            <th>Sr-no
                                            </th>
                                            <th>Right
                                                Ans
                                            </th>
                                            <th>Input
                                                Ans
                                            </th>
                                            <th>Status
                                            </th>
                                        </tr>
                                        <tr>
                                            <td>01
                                            </td>
                                            <td>40
                                            </td>
                                            <td>39
                                            </td>
                                            <td>false
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>02
                                            </td>
                                            <td>30
                                            </td>
                                            <td>30
                                            </td>
                                            <td>true
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- =============================== -->
        </div>
        </div>
    </section>
    <!-- section end -->

    <!-- boostrap javascript -->

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        AOS.init();
    </script>

    <script>
        $(document).ready(function () {
            // Add click event to the dots
            $('.dot').click(function () {
                // Set the background image of spedo-content to none
                $('.spedo-content').css('background-image', 'none');
                // Get the background color of the clicked dot
                var color = $(this).css('background-color');

                // Change the background color of the spedo-content div
                $('.spedo-content').css('background-color', color);
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            $('.delete-btn').on('click', function () {
                var currentInput = $('.answer-input').val();
                $('.answer-input').val(currentInput.slice(0, -1));
                $('.answer-input').autofocus();
            });
            ///touch button
            $('.num-btn').on('click', function () {
                var num = $(this).text();
                var currentInput = $('.answer-input').val();
                if (currentInput.length < 10) {
                    $('.answer-input').val(currentInput + num);
                }
                $('.answer-input').focus();
            });
            $('.answer-input').on('input', function (event) {
                var input = $(this).val();
                if (input.length > 10) {
                    $(this).val(input.slice(0, 10));
                }
            });
            $('#exampleModal_start_answer').on('shown.bs.modal', function () {
                $('.answer-input').focus();
            });

            //touch keyboard
            $('.answer-input').on('keydown', function (event) {
                if (event.key >= 0 && event.key <= 9) {
                    var currentInput = $('.answer-input').val();
                    if (currentInput.length < 5) {
                        $(this).val(currentInput);
                    }
                } else if (event.key === 'Enter') {
                    console.log('Enter key pressed. Answer:', $(this).val());
                    $('modal').modal('show');
                }
            });
            $('.start-btn').on('click', function () {
                var answerValue = $('.answer-input').val();
                console.log('Ok button clicked. Answer:', answerValue);
            });


        });
    </script>

    <script>
        $(document).ready(function () {
            var startModalActive = true; 
            $("#startButton").click(function () {
            
                var roundCounter = 1;
                rounds();

                function initialize(minutes, seconds) {
                    $(".timershow").html(minutes + ":" + seconds);
                }

                // Define a sleep function
                function sleep(ms) {
                    return new Promise(resolve => setTimeout(resolve, ms));
                }

                async function rounds() {
                    var imagePath = "./img/abacus/abacus_0" + roundCounter + ".svg";
                    $('#startmodal img').attr('src', imagePath);

                    $('#startmodal').modal('show');
                    await sleep(5000);

                    // Increment the round counter
                    roundCounter++;
                    showAnswerModal();

                    await sleep(5000);

                    if (roundCounter <= 5) {
                        rounds();
                    } else {
                        // If 5 rounds are completed, show the scoremodal
                        showScoreModal();
                    }
                }

                async function showAnswerModal() {
             
                    if (startModalActive) {
                        // Show the answer modal
                        $('#answermodal').modal('show');
                        $('.answer-input').val('');

                        
                        await startCountdown(5);

                        // Close the answer modal
                        $('#answermodal').modal('hide');

                    }
                }

                function showScoreModal() {
                   
                    $('#scoremodal').modal('show');
                
                }

                function startCountdown(seconds) {
                    return new Promise(async resolve => {
                        var timer = seconds;
                        var interval = setInterval(function () {
                            var remainingSeconds = timer % 60;
                            var formattedSeconds = remainingSeconds < 10 ? "0" + remainingSeconds : remainingSeconds;

                            $(".timershow").html("00:" + formattedSeconds);

                            if (--timer < 0) {
                                clearInterval(interval);
                                resolve();
                            }
                        }, 1000);
                    });
                }

  
                $('#answermodal').on('show.bs.modal', function () {
                    startModalActive = false;
                });

                $('#answermodal').on('hidden.bs.modal', function () {
                    startModalActive = true;
                });
            });
        });
    </script>


</body>

</html>